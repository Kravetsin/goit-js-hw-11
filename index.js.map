{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nconst loader = document.querySelector('.loader');\n\nexport function showLoader() {\n  if (loader) {\n    loader.classList.remove('hidden');\n  }\n}\n\nexport function hideLoader() {\n  if (loader) {\n    loader.classList.add('hidden');\n  }\n}\n\nfunction createGallery(container, items) {\n  const fragment = document.createDocumentFragment();\n\n  items.forEach(\n    ({\n      previewURL,\n      largeImageURL,\n      description,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => {\n      const li = document.createElement('li');\n      li.classList.add('gallery__item');\n\n      const link = document.createElement('a');\n      link.classList.add('gallery__link');\n      link.href = largeImageURL;\n\n      const img = document.createElement('img');\n      img.classList.add('gallery__image');\n      img.src = previewURL;\n      img.alt = description;\n\n      const infoBox = document.createElement('div');\n      infoBox.classList.add('image__info');\n      infoBox.innerHTML = `\n        <p><strong>Likes:</strong> ${likes}</p>\n        <p><strong>Views:</strong> ${views}</p>\n        <p><strong>Comments:</strong> ${comments}</p>\n        <p><strong>Downloads:</strong> ${downloads}</p>\n      `;\n\n      li.appendChild(link);\n      link.appendChild(img);\n      li.appendChild(infoBox);\n\n      fragment.appendChild(li);\n    }\n  );\n\n  container.appendChild(fragment);\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a.gallery__link', {\n      captionsData: 'alt',\n      captionDelay: 250,\n      close: true,\n    });\n  }\n}\n\nexport default createGallery;\n","'use strict';\n\nimport axios from 'axios';\n\nfunction getImagesByQuery(query) {\n  const API_KEY = '51218817-9c6b1fab233f845d5e532ac94';\n  const URL =\n    'https://pixabay.com/api/?key=' +\n    API_KEY +\n    '&q=' +\n    encodeURIComponent(query) +\n    '&per_page=9' +\n    '&image_type=photo' +\n    '&orientation=horizontal' +\n    '&safesearch=true';\n\n  return axios\n    .get(URL)\n    .then(response => {\n      return response.data.hits;\n    })\n    .catch(error => {\n      console.log(error);\n      return [];\n    });\n}\n\nexport default getImagesByQuery;\n","'use strict';\n\nimport createGallery, {\n  hideLoader,\n  showLoader,\n} from './js/render-functions.js';\nimport getImagesByQuery from './js/pixabay-api.js';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = form.elements['search-text'].value.trim();\n  if (!query) return;\n\n  gallery.innerHTML = '';\n  showLoader();\n\n  getImagesByQuery(query).then(images => {\n    if (!images || images.length === 0) {\n      hideLoader();\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    const items = images.map(img => ({\n      previewURL: img.webformatURL,\n      largeImageURL: img.largeImageURL,\n      description: img.tags,\n      likes: img.likes,\n      views: img.views,\n      comments: img.comments,\n      downloads: img.downloads,\n    }));\n\n    hideLoader();\n    createGallery(gallery, items);\n  });\n});\n"],"names":["lightbox","loader","showLoader","hideLoader","createGallery","container","items","fragment","previewURL","largeImageURL","description","likes","views","comments","downloads","li","link","img","infoBox","SimpleLightbox","getImagesByQuery","query","URL","axios","response","error","form","gallery","event","images","iziToast"],"mappings":"owBAGA,IAAIA,EAEJ,MAAMC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,GAAa,CACvBD,GACFA,EAAO,UAAU,OAAO,QAAQ,CAEpC,CAEO,SAASE,GAAa,CACvBF,GACFA,EAAO,UAAU,IAAI,QAAQ,CAEjC,CAEA,SAASG,EAAcC,EAAWC,EAAO,CACvC,MAAMC,EAAW,SAAS,yBAE1BD,EAAM,QACJ,CAAC,CACC,WAAAE,EACA,cAAAC,EACA,YAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,IAAU,CACJ,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,eAAe,EAEhC,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,UAAU,IAAI,eAAe,EAClCA,EAAK,KAAOP,EAEZ,MAAMQ,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,gBAAgB,EAClCA,EAAI,IAAMT,EACVS,EAAI,IAAMP,EAEV,MAAMQ,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,aAAa,EACnCA,EAAQ,UAAY;AAAA,qCACWP,CAAK;AAAA,qCACLC,CAAK;AAAA,wCACFC,CAAQ;AAAA,yCACPC,CAAS;AAAA,QAG5CC,EAAG,YAAYC,CAAI,EACnBA,EAAK,YAAYC,CAAG,EACpBF,EAAG,YAAYG,CAAO,EAEtBX,EAAS,YAAYQ,CAAE,CACxB,CACL,EAEEV,EAAU,YAAYE,CAAQ,EAE1BP,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAImB,EAAe,2BAA4B,CACxD,aAAc,MACd,aAAc,IACd,MAAO,EACb,CAAK,CAEL,CCpEA,SAASC,EAAiBC,EAAO,CAE/B,MAAMC,EACJ,gCAFc,qCAId,MACA,mBAAmBD,CAAK,EACxB,sEAKF,OAAOE,EACJ,IAAID,CAAG,EACP,KAAKE,GACGA,EAAS,KAAK,IACtB,EACA,MAAMC,IACL,QAAQ,IAAIA,CAAK,EACV,GACR,CACL,CCdA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMP,EAAQK,EAAK,SAAS,aAAa,EAAE,MAAM,OAC5CL,IAELM,EAAQ,UAAY,GACpBzB,IAEAkB,EAAiBC,CAAK,EAAE,KAAKQ,GAAU,CACrC,GAAI,CAACA,GAAUA,EAAO,SAAW,EAAG,CAClC1B,IACA2B,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACD,CAED,MAAMxB,EAAQuB,EAAO,IAAIZ,IAAQ,CAC/B,WAAYA,EAAI,aAChB,cAAeA,EAAI,cACnB,YAAaA,EAAI,KACjB,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,EAEFd,IACAC,EAAcuB,EAASrB,CAAK,CAChC,CAAG,EACH,CAAC"}